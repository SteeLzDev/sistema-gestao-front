{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/SteeL-Note/Documents/WorkspaceVScode/sistema-gestao-front/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\"flex flex-col gap-1.5 px-6\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn(\"leading-none font-semibold\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn(\"px-6\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn(\"flex items-center px-6\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\r\n"],"names":[],"mappings":";;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,0BAA0B;QACvC,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/SteeL-Note/Documents/WorkspaceVScode/sistema-gestao-front/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40\",\r\n        outline:\r\n          \"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\r\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\r\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\r\n        icon: \"size-9\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<\"button\"> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean\r\n  }) {\r\n  const Comp = asChild ? Slot : \"button\"\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,8cACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/SteeL-Note/Documents/WorkspaceVScode/sistema-gestao-front/components/ui/BackButton.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useRouter } from \"next/navigation\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { ArrowLeft } from \"lucide-react\"\r\n\r\ninterface BackButtonProps {\r\n  to?: string\r\n  label?: string\r\n  className?: string\r\n}\r\n\r\nexport const BackButton = ({\r\n  to = \"/dashboard\",\r\n  label = \"Voltar para Dashboard\",\r\n  className = \"\",\r\n}: BackButtonProps) => {\r\n  const router = useRouter()\r\n\r\n  const handleClick = () => {\r\n    router.push(to)\r\n  }\r\n\r\n  return (\r\n    <Button\r\n      variant=\"outline\"\r\n      size=\"sm\"\r\n      onClick={handleClick}\r\n      className={`flex items-center gap-1 ${className}`}\r\n    >\r\n      <ArrowLeft className=\"h-4 w-4\" />\r\n      <span>{label}</span>\r\n    </Button>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAYO,MAAM,aAAa,CAAC,EACzB,KAAK,YAAY,EACjB,QAAQ,uBAAuB,EAC/B,YAAY,EAAE,EACE;IAChB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,cAAc;QAClB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,8OAAC,2HAAA,CAAA,SAAM;QACL,SAAQ;QACR,MAAK;QACL,SAAS;QACT,WAAW,CAAC,wBAAwB,EAAE,WAAW;;0BAEjD,8OAAC,gNAAA,CAAA,YAAS;gBAAC,WAAU;;;;;;0BACrB,8OAAC;0BAAM;;;;;;;;;;;;AAGb","debugId":null}},
    {"offset": {"line": 199, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/SteeL-Note/Documents/WorkspaceVScode/sistema-gestao-front/services/usuarioService.ts"],"sourcesContent":["import apiClient from \"./apiClient\"\r\n\r\n// Interfaces para tipagem\r\nexport interface Usuario {\r\n  id: number\r\n  nome: string\r\n  username: string\r\n  email?: string\r\n  cargo: string\r\n  perfil: string\r\n  status: string\r\n  ativo?: boolean\r\n  permissoes?: string[]\r\n}\r\n\r\nexport interface NovoUsuario {\r\n  nome: string\r\n  username: string\r\n  email?: string\r\n  senha: string\r\n  cargo: string\r\n  perfil: string\r\n  status: string\r\n}\r\n\r\nexport interface EditarUsuario {\r\n  nome?: string\r\n  email?: string\r\n  senha?: string\r\n  cargo?: string\r\n  perfil?: string\r\n  status?: string\r\n  username?: string\r\n  permissoes?: string[]\r\n}\r\n\r\nconst usuarioService = {\r\n  listarUsuarios: async () => {\r\n    try {\r\n      const response = await apiClient.get(\"/usuarios\")\r\n      return response.data\r\n    } catch (error) {\r\n      console.error(\"Erro ao listar usuários:\", error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  buscarUsuario: async (id: number) => {\r\n    try {\r\n      const response = await apiClient.get(`/usuarios/${id}`)\r\n\r\n      // Garantir que o campo permissões seja sempre um array\r\n      const usuario = response.data\r\n      if (!usuario.permissoes) {\r\n        usuario.permissoes = []\r\n      } else if (!Array.isArray(usuario.permissoes)) {\r\n        // Se não for um array, converter para array\r\n        try {\r\n          if (typeof usuario.permissoes === \"string\") {\r\n            // Tentar converter de string JSON para array\r\n            usuario.permissoes = JSON.parse(usuario.permissoes)\r\n            if (!Array.isArray(usuario.permissoes)) {\r\n              usuario.permissoes = []\r\n            }\r\n          } else {\r\n            usuario.permissoes = []\r\n          }\r\n        } catch (e) {\r\n          console.error(\"Erro ao converter permissões:\", e)\r\n          usuario.permissoes = []\r\n        }\r\n      }\r\n\r\n      return usuario\r\n    } catch (error) {\r\n      console.error(`Erro ao buscar usuário ${id}:`, error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  criarUsuario: async (usuario: NovoUsuario) => {\r\n    try {\r\n      // Converter username para minúsculas para torná-lo case insensitive\r\n      const usuarioFormatado = {\r\n        ...usuario,\r\n        username: usuario.username.toLowerCase(),\r\n      }\r\n\r\n      const response = await apiClient.post(\"/usuarios\", usuarioFormatado)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error(\"Erro ao criar usuário:\", error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  atualizarUsuario: async (id: number, usuario: EditarUsuario) => {\r\n    try {\r\n      // Se o username estiver sendo atualizado, converter para minúsculas\r\n      const usuarioFormatado = { ...usuario }\r\n\r\n      // Verificar se o username existe antes de tentar convertê-lo\r\n      if (usuarioFormatado.username) {\r\n        usuarioFormatado.username = usuarioFormatado.username.toLowerCase()\r\n      }\r\n\r\n      const response = await apiClient.put(`/usuarios/${id}`, usuarioFormatado)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error(`Erro ao atualizar usuário ${id}:`, error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  removerUsuario: async (id: number) => {\r\n    try {\r\n      await apiClient.delete(`/usuarios/${id}`)\r\n    } catch (error) {\r\n      console.error(`Erro ao remover usuário ${id}:`, error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  // Funções para gerenciar permissões\r\n  obterPermissoes: async (id: number) => {\r\n    try {\r\n      // Usar o método buscarUsuario para obter as permissões\r\n      const usuario = await usuarioService.buscarUsuario(id)\r\n      return usuario.permissoes || []\r\n    } catch (error) {\r\n      console.error(`Erro ao obter permissões do usuário ${id}:`, error)\r\n      throw error\r\n    }\r\n  },\r\n\r\n  atualizarPermissoes: async (id: number, permissoes: string[]) => {\r\n    try {\r\n      console.log(`Atualizando permissões do usuário ${id}:`, permissoes)\r\n\r\n      // Obter dados atuais do usuário\r\n      const usuario = await usuarioService.buscarUsuario(id)\r\n\r\n      if (!usuario) {\r\n        throw new Error(`Usuário com ID ${id} não encontrado`)\r\n      }\r\n\r\n      // Criar uma cópia completa do usuário para atualização\r\n      // Isso garante que todos os campos obrigatórios sejam incluídos\r\n      const usuarioAtualizado = { ...usuario }\r\n\r\n      // Remover o ID para não enviá-lo na atualização\r\n      delete usuarioAtualizado.id\r\n\r\n      // Atualizar apenas as permissões\r\n      usuarioAtualizado.permissoes = permissoes\r\n\r\n      console.log(\"Dados para atualização:\", usuarioAtualizado)\r\n\r\n      // Atualizar o usuário\r\n      const response = await apiClient.put(`/usuarios/${id}`, usuarioAtualizado)\r\n      console.log(\"Resposta da atualização:\", response.data)\r\n\r\n      return response.data\r\n    } catch (error) {\r\n      console.error(`Erro ao atualizar permissões do usuário ${id}:`, error)\r\n      throw error\r\n    }\r\n  },\r\n}\r\n\r\nexport default usuarioService\r\n\r\n\r\n\r\n// import apiClient from \"./apiClient\"\r\n\r\n// // Interfaces para tipagem\r\n// export interface Usuario {\r\n//   id: number\r\n//   nome: string\r\n//   username: string\r\n//   email?: string\r\n//   cargo: string\r\n//   perfil: string\r\n//   status: string\r\n//   ativo?: boolean\r\n//   permissoes?: string[]\r\n// }\r\n\r\n// export interface NovoUsuario {\r\n//   nome: string\r\n//   username: string\r\n//   email?: string\r\n//   senha: string\r\n//   cargo: string\r\n//   perfil: string\r\n//   status: string\r\n// }\r\n\r\n// export interface EditarUsuario {\r\n//   nome?: string\r\n//   email?: string\r\n//   senha?: string\r\n//   cargo?: string\r\n//   perfil?: string\r\n//   status?: string\r\n//   username?: string\r\n// }\r\n\r\n// const usuarioService = {\r\n//   listarUsuarios: async () => {\r\n//     try {\r\n//       const response = await apiClient.get(\"/usuarios\")\r\n//       return response.data\r\n//     } catch (error) {\r\n//       console.error(\"Erro ao listar usuários:\", error)\r\n//       throw error\r\n//     }\r\n//   },\r\n\r\n//   buscarUsuario: async (id: number) => {\r\n//     try {\r\n//       const response = await apiClient.get(`/usuarios/${id}`)\r\n//       return response.data\r\n//     } catch (error) {\r\n//       console.error(`Erro ao buscar usuário ${id}:`, error)\r\n//       throw error\r\n//     }\r\n//   },\r\n\r\n//   criarUsuario: async (usuario: NovoUsuario) => {\r\n//     try {\r\n//       // Converter username para minúsculas para torná-lo case insensitive\r\n//       const usuarioFormatado = {\r\n//         ...usuario,\r\n//         username: usuario.username.toLowerCase(),\r\n//       }\r\n\r\n//       const response = await apiClient.post(\"/usuarios\", usuarioFormatado)\r\n//       return response.data\r\n//     } catch (error) {\r\n//       console.error(\"Erro ao criar usuário:\", error)\r\n//       throw error\r\n//     }\r\n//   },\r\n\r\n//   atualizarUsuario: async (id: number, usuario: EditarUsuario) => {\r\n//     try {\r\n//       // Se o username estiver sendo atualizado, converter para minúsculas\r\n//       const usuarioFormatado = { ...usuario }\r\n\r\n//       // Verificar se o username existe antes de tentar convertê-lo\r\n//       if (usuarioFormatado.username) {\r\n//         usuarioFormatado.username = usuarioFormatado.username.toLowerCase()\r\n//       }\r\n\r\n//       const response = await apiClient.put(`/usuarios/${id}`, usuarioFormatado)\r\n//       return response.data\r\n//     } catch (error) {\r\n//       console.error(`Erro ao atualizar usuário ${id}:`, error)\r\n//       throw error\r\n//     }\r\n//   },\r\n\r\n//   removerUsuario: async (id: number) => {\r\n//     try {\r\n//       await apiClient.delete(`/usuarios/${id}`)\r\n//     } catch (error) {\r\n//       console.error(`Erro ao remover usuário ${id}:`, error)\r\n//       throw error\r\n//     }\r\n//   },\r\n\r\n//   // Funções para gerenciar permissões - ABORDAGEM ALTERNATIVA\r\n//   obterPermissoes: async (id: number) => {\r\n//     try {\r\n//       // Usar o método buscarUsuario para obter as permissões\r\n//       const usuario = await usuarioService.buscarUsuario(id)\r\n//       return usuario.permissoes || []\r\n//     } catch (error) {\r\n//       console.error(`Erro ao obter permissões do usuário ${id}:`, error)\r\n//       throw error\r\n//     }\r\n//   },\r\n\r\n//   atualizarPermissoes: async (id: number, permissoes: string[]) => {\r\n//     try {\r\n//       // Usar o método buscarUsuario para obter as permissões\r\n//       const usuario = await usuarioService.buscarUsuario(id)\r\n\r\n//       const usuarioAtualizado = {\r\n//         ...usuario,\r\n//         permissoes: permissoes,\r\n//       }\r\n\r\n//       // Remover campos que não devem ser enviados na atualização\r\n//       delete usuarioAtualizado.id\r\n//       // NÃO remover o username, pois é obrigatório\r\n//       // delete usuarioAtualizado.username\r\n\r\n//       const response = await apiClient.put(`/usuarios/${id}`, usuarioAtualizado)\r\n//       return response.data\r\n//     } catch (error) {\r\n//       console.error(`Erro ao atualizar permissões do usuário ${id}:`, error)\r\n//       throw error\r\n//     }\r\n//   },\r\n// }\r\n\r\n// export default usuarioService\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 448, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/SteeL-Note/Documents/WorkspaceVScode/sistema-gestao-front/components/ui/alert.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst alertVariants = cva(\r\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-background text-foreground\",\r\n        destructive: \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  },\r\n)\r\n\r\nconst Alert = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\r\n>(({ className, variant, ...props }, ref) => (\r\n  <div ref={ref} role=\"alert\" className={cn(alertVariants({ variant }), className)} {...props} />\r\n))\r\nAlert.displayName = \"Alert\"\r\n\r\nconst AlertTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <h5 ref={ref} className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)} {...props} />\r\n  ),\r\n)\r\nAlertTitle.displayName = \"AlertTitle\"\r\n\r\nconst AlertDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\r\n  ({ className, ...props }, ref) => (\r\n    <div ref={ref} className={cn(\"text-sm [&_p]:leading-relaxed\", className)} {...props} />\r\n  ),\r\n)\r\nAlertDescription.displayName = \"AlertDescription\"\r\n\r\nexport { Alert, AlertTitle, AlertDescription }\r\n\r\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB,6JACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;QACf;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG3B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE,oBACnC,8OAAC;QAAI,KAAK;QAAK,MAAK;QAAQ,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAE7F,MAAM,WAAW,GAAG;AAEpB,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAChC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QAAG,KAAK;QAAK,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,gDAAgD;QAAa,GAAG,KAAK;;;;;;AAGrG,WAAW,WAAW,GAAG;AAEzB,MAAM,iCAAmB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EACtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAAa,GAAG,KAAK;;;;;;AAGvF,iBAAiB,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 513, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/SteeL-Note/Documents/WorkspaceVScode/sistema-gestao-front/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React, { useState, useRef, useEffect } from \"react\"\r\nimport { createPortal } from \"react-dom\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\ninterface TooltipProviderProps {\r\n  children: React.ReactNode\r\n  delayDuration?: number\r\n}\r\n\r\nconst TooltipContext = React.createContext<{\r\n  delayDuration: number\r\n}>({\r\n  delayDuration: 700,\r\n})\r\n\r\nexport function TooltipProvider({ children, delayDuration = 700 }: TooltipProviderProps) {\r\n  return <TooltipContext.Provider value={{ delayDuration }}>{children}</TooltipContext.Provider>\r\n}\r\n\r\ninterface TooltipProps {\r\n  children: React.ReactNode\r\n  open?: boolean\r\n  defaultOpen?: boolean\r\n  onOpenChange?: (open: boolean) => void\r\n}\r\n\r\nexport function Tooltip({ children, open: controlledOpen, defaultOpen = false, onOpenChange }: TooltipProps) {\r\n  const [open, setOpen] = useState(defaultOpen)\r\n  const isControlled = controlledOpen !== undefined\r\n  const isOpen = isControlled ? controlledOpen : open\r\n\r\n  const handleOpenChange = (newOpen: boolean) => {\r\n    if (!isControlled) {\r\n      setOpen(newOpen)\r\n    }\r\n    onOpenChange?.(newOpen)\r\n  }\r\n\r\n  return (\r\n    <TooltipContext.Provider value={{ delayDuration: 700 }}>\r\n      <TooltipPrimitive isOpen={isOpen} onOpenChange={handleOpenChange}>\r\n        {children}\r\n      </TooltipPrimitive>\r\n    </TooltipContext.Provider>\r\n  )\r\n}\r\n\r\ninterface TooltipPrimitiveProps {\r\n  children: React.ReactNode\r\n  isOpen: boolean\r\n  onOpenChange: (open: boolean) => void\r\n}\r\n\r\nfunction TooltipPrimitive({ children, isOpen, onOpenChange }: TooltipPrimitiveProps) {\r\n  return (\r\n    <TooltipContext.Provider value={{ delayDuration: 700 }}>\r\n      {React.Children.map(children, (child) => {\r\n        if (React.isValidElement(child)) {\r\n          return React.cloneElement(child as React.ReactElement<any>, {\r\n            isOpen,\r\n            onOpenChange,\r\n          })\r\n        }\r\n        return child\r\n      })}\r\n    </TooltipContext.Provider>\r\n  )\r\n}\r\n\r\ninterface TooltipTriggerProps {\r\n  children: React.ReactNode\r\n  asChild?: boolean\r\n  isOpen?: boolean\r\n  onOpenChange?: (open: boolean) => void\r\n}\r\n\r\nexport const TooltipTrigger = React.forwardRef<HTMLElement, TooltipTriggerProps>(\r\n  ({ children, asChild = false, isOpen, onOpenChange, ...props }, forwardedRef) => {\r\n    const [open, setOpen] = useState(false)\r\n    const timeoutRef = useRef<NodeJS.Timeout | null>(null)\r\n    const childRef = useRef<HTMLElement>(null)\r\n    const tooltipContext = React.useContext(TooltipContext)\r\n\r\n    // Combine refs\r\n    const ref = React.useMemo(() => {\r\n      if (forwardedRef) {\r\n        return (node: HTMLElement | null) => {\r\n          if (typeof forwardedRef === \"function\") {\r\n            forwardedRef(node)\r\n          } else if (forwardedRef) {\r\n            forwardedRef.current = node\r\n          }\r\n          childRef.current = node\r\n        }\r\n      }\r\n      return childRef\r\n    }, [forwardedRef])\r\n\r\n    const handleMouseEnter = () => {\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current)\r\n      }\r\n      timeoutRef.current = setTimeout(() => {\r\n        setOpen(true)\r\n        onOpenChange?.(true)\r\n      }, tooltipContext.delayDuration)\r\n    }\r\n\r\n    const handleMouseLeave = () => {\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current)\r\n      }\r\n      setOpen(false)\r\n      onOpenChange?.(false)\r\n    }\r\n\r\n    useEffect(() => {\r\n      return () => {\r\n        if (timeoutRef.current) {\r\n          clearTimeout(timeoutRef.current)\r\n        }\r\n      }\r\n    }, [])\r\n\r\n    const child = asChild ? (\r\n      children\r\n    ) : (\r\n      <span\r\n        ref={ref as React.RefObject<HTMLSpanElement>}\r\n        onMouseEnter={handleMouseEnter}\r\n        onMouseLeave={handleMouseLeave}\r\n        onFocus={handleMouseEnter}\r\n        onBlur={handleMouseLeave}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </span>\r\n    )\r\n\r\n    if (React.isValidElement(child) && asChild) {\r\n      return React.cloneElement(child as React.ReactElement<any>, {\r\n        ref,\r\n        onMouseEnter: handleMouseEnter,\r\n        onMouseLeave: handleMouseLeave,\r\n        onFocus: handleMouseEnter,\r\n        onBlur: handleMouseLeave,\r\n        ...props,\r\n      })\r\n    }\r\n\r\n    return child\r\n  },\r\n)\r\n\r\nTooltipTrigger.displayName = \"TooltipTrigger\"\r\n\r\ninterface TooltipContentProps {\r\n  children: React.ReactNode\r\n  className?: string\r\n  sideOffset?: number\r\n  isOpen?: boolean\r\n}\r\n\r\nexport const TooltipContent = React.forwardRef<HTMLDivElement, TooltipContentProps>(\r\n  ({ children, className, sideOffset = 4, isOpen, ...props }, ref) => {\r\n    const [mounted, setMounted] = useState(false)\r\n    const triggerRef = React.useContext(TooltipContext)\r\n\r\n    useEffect(() => {\r\n      setMounted(true)\r\n      return () => setMounted(false)\r\n    }, [])\r\n\r\n    if (!mounted || !isOpen) {\r\n      return null\r\n    }\r\n\r\n    return createPortal(\r\n      <div\r\n        ref={ref}\r\n        className={cn(\r\n          \"z-50 overflow-hidden rounded-md border bg-white px-3 py-1.5 text-sm text-gray-900 shadow-md animate-in fade-in-0 zoom-in-95 absolute\",\r\n          className,\r\n        )}\r\n        style={{\r\n          top: \"calc(100% + 5px)\",\r\n          left: \"50%\",\r\n          transform: \"translateX(-50%)\",\r\n        }}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </div>,\r\n      document.body,\r\n    )\r\n  },\r\n)\r\n\r\nTooltipContent.displayName = \"TooltipContent\"\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 695, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/SteeL-Note/Documents/WorkspaceVScode/sistema-gestao-front/app/usuarios/permissoes/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState, useCallback } from \"react\"\r\nimport { useParams, useRouter } from \"next/navigation\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { useToast } from \"@/components/ui/use-toast\"\r\nimport { BackButton } from \"@/components/ui/BackButton\"\r\nimport { useAuth } from \"@/contexts/AuthContext\"\r\nimport usuarioService from \"@/services/usuarioService\"\r\nimport { Alert, AlertDescription } from \"@/components/ui/alert\"\r\nimport { AlertCircle, Loader2, Check, Info } from \"lucide-react\"\r\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\"\r\n\r\n// Definição de tipos para as permissões\r\ninterface Permissao {\r\n  id: string\r\n  label: string\r\n  descricao?: string\r\n}\r\n\r\n// Definição de tipos para as categorias de permissões\r\ninterface CategoriaPermissoes {\r\n  [categoria: string]: Permissao[]\r\n}\r\n\r\n// Definição de tipos para os perfis de permissão\r\ninterface PerfilPermissao {\r\n  id: string\r\n  nome: string\r\n  descricao: string\r\n  permissoes: string[]\r\n}\r\n\r\n// Definição das permissões por categoria\r\nconst permissoesPorCategoria: CategoriaPermissoes = {\r\n  Estoque: [\r\n    { id: \"ESTOQUE_VISUALIZAR\", label: \"Visualizar estoque\", descricao: \"Permite visualizar o estoque de produtos\" },\r\n    { id: \"ESTOQUE_ADICIONAR\", label: \"Adicionar produtos\", descricao: \"Permite adicionar novos produtos ao estoque\" },\r\n    { id: \"ESTOQUE_EDITAR\", label: \"Editar produtos\", descricao: \"Permite editar informações de produtos existentes\" },\r\n    { id: \"ESTOQUE_REMOVER\", label: \"Remover produtos\", descricao: \"Permite remover produtos do estoque\" },\r\n  ],\r\n  Vendas: [\r\n    { id: \"VENDAS_VISUALIZAR\", label: \"Visualizar vendas\", descricao: \"Permite visualizar o histórico de vendas\" },\r\n    { id: \"VENDAS_CRIAR\", label: \"Criar vendas\", descricao: \"Permite registrar novas vendas no sistema\" },\r\n    { id: \"VENDAS_CANCELAR\", label: \"Cancelar vendas\", descricao: \"Permite cancelar vendas registradas\" },\r\n    {\r\n      id: \"VENDAS_RELATORIOS\",\r\n      label: \"Relatórios de vendas\",\r\n      descricao: \"Permite gerar e visualizar relatórios de vendas\",\r\n    },\r\n  ],\r\n  Fila: [\r\n    { id: \"FILA_VISUALIZAR\", label: \"Visualizar fila\", descricao: \"Permite visualizar a fila de atendimento\" },\r\n    {\r\n      id: \"FILA_ADICIONAR\",\r\n      label: \"Adicionar clientes\",\r\n      descricao: \"Permite adicionar clientes à fila de atendimento\",\r\n    },\r\n    { id: \"FILA_REMOVER\", label: \"Remover clientes\", descricao: \"Permite remover clientes da fila de atendimento\" },\r\n    { id: \"FILA_GERENCIAR\", label: \"Gerenciar atendimentos\", descricao: \"Permite gerenciar o fluxo de atendimentos\" },\r\n  ],\r\n  Usuários: [\r\n    { id: \"USUARIOS_VISUALIZAR\", label: \"Visualizar usuários\", descricao: \"Permite visualizar a lista de usuários\" },\r\n    { id: \"USUARIOS_ADICIONAR\", label: \"Adicionar usuários\", descricao: \"Permite adicionar novos usuários ao sistema\" },\r\n    { id: \"USUARIOS_EDITAR\", label: \"Editar usuários\", descricao: \"Permite editar informações de usuários existentes\" },\r\n    { id: \"USUARIOS_REMOVER\", label: \"Remover usuários\", descricao: \"Permite remover usuários do sistema\" },\r\n    {\r\n      id: \"USUARIOS_PERMISSOES\",\r\n      label: \"Gerenciar permissões\",\r\n      descricao: \"Permite gerenciar permissões de outros usuários\",\r\n    },\r\n  ],\r\n  Sistema: [\r\n    {\r\n      id: \"CONFIGURACOES_VISUALIZAR\",\r\n      label: \"Visualizar configurações\",\r\n      descricao: \"Permite visualizar as configurações do sistema\",\r\n    },\r\n    {\r\n      id: \"CONFIGURACOES_EDITAR\",\r\n      label: \"Editar configurações\",\r\n      descricao: \"Permite editar as configurações do sistema\",\r\n    },\r\n    {\r\n      id: \"RELATORIOS_VISUALIZAR\",\r\n      label: \"Visualizar relatórios\",\r\n      descricao: \"Permite visualizar relatórios gerais do sistema\",\r\n    },\r\n    {\r\n      id: \"RELATORIOS_EXPORTAR\",\r\n      label: \"Exportar relatórios\",\r\n      descricao: \"Permite exportar relatórios para formatos externos\",\r\n    },\r\n    { id: \"BACKUP_GERENCIAR\", label: \"Gerenciar backups\", descricao: \"Permite gerenciar backups do sistema\" },\r\n  ],\r\n}\r\n\r\n// Definição dos perfis de permissão\r\nconst perfisPermissao: PerfilPermissao[] = [\r\n  {\r\n    id: \"admin\",\r\n    nome: \"Administrador\",\r\n    descricao: \"Acesso completo ao sistema\",\r\n    permissoes: [\r\n      \"ESTOQUE_VISUALIZAR\",\r\n      \"ESTOQUE_ADICIONAR\",\r\n      \"ESTOQUE_EDITAR\",\r\n      \"ESTOQUE_REMOVER\",\r\n      \"VENDAS_VISUALIZAR\",\r\n      \"VENDAS_CRIAR\",\r\n      \"VENDAS_CANCELAR\",\r\n      \"VENDAS_RELATORIOS\",\r\n      \"FILA_VISUALIZAR\",\r\n      \"FILA_ADICIONAR\",\r\n      \"FILA_REMOVER\",\r\n      \"FILA_GERENCIAR\",\r\n      \"USUARIOS_VISUALIZAR\",\r\n      \"USUARIOS_ADICIONAR\",\r\n      \"USUARIOS_EDITAR\",\r\n      \"USUARIOS_REMOVER\",\r\n      \"USUARIOS_PERMISSOES\",\r\n      \"CONFIGURACOES_VISUALIZAR\",\r\n      \"CONFIGURACOES_EDITAR\",\r\n      \"RELATORIOS_VISUALIZAR\",\r\n      \"RELATORIOS_EXPORTAR\",\r\n      \"BACKUP_GERENCIAR\",\r\n    ],\r\n  },\r\n  {\r\n    id: \"gerente\",\r\n    nome: \"Gerente\",\r\n    descricao: \"Acesso gerencial ao sistema\",\r\n    permissoes: [\r\n      \"ESTOQUE_VISUALIZAR\",\r\n      \"ESTOQUE_ADICIONAR\",\r\n      \"ESTOQUE_EDITAR\",\r\n      \"VENDAS_VISUALIZAR\",\r\n      \"VENDAS_CRIAR\",\r\n      \"VENDAS_CANCELAR\",\r\n      \"VENDAS_RELATORIOS\",\r\n      \"FILA_VISUALIZAR\",\r\n      \"FILA_ADICIONAR\",\r\n      \"FILA_REMOVER\",\r\n      \"FILA_GERENCIAR\",\r\n      \"USUARIOS_VISUALIZAR\",\r\n      \"USUARIOS_ADICIONAR\",\r\n      \"USUARIOS_EDITAR\",\r\n      \"CONFIGURACOES_VISUALIZAR\",\r\n      \"RELATORIOS_VISUALIZAR\",\r\n      \"RELATORIOS_EXPORTAR\",\r\n    ],\r\n  },\r\n  {\r\n    id: \"vendedor\",\r\n    nome: \"Vendedor\",\r\n    descricao: \"Acesso às funcionalidades de vendas\",\r\n    permissoes: [\r\n      \"ESTOQUE_VISUALIZAR\",\r\n      \"VENDAS_VISUALIZAR\",\r\n      \"VENDAS_CRIAR\",\r\n      \"FILA_VISUALIZAR\",\r\n      \"FILA_ADICIONAR\",\r\n      \"FILA_GERENCIAR\",\r\n    ],\r\n  },\r\n  {\r\n    id: \"estoquista\",\r\n    nome: \"Estoquista\",\r\n    descricao: \"Acesso às funcionalidades de estoque\",\r\n    permissoes: [\"ESTOQUE_VISUALIZAR\", \"ESTOQUE_ADICIONAR\", \"ESTOQUE_EDITAR\", \"ESTOQUE_REMOVER\"],\r\n  },\r\n  {\r\n    id: \"atendente\",\r\n    nome: \"Atendente\",\r\n    descricao: \"Acesso às funcionalidades de atendimento\",\r\n    permissoes: [\r\n      \"ESTOQUE_VISUALIZAR\",\r\n      \"VENDAS_VISUALIZAR\",\r\n      \"VENDAS_CRIAR\",\r\n      \"FILA_VISUALIZAR\",\r\n      \"FILA_ADICIONAR\",\r\n      \"FILA_REMOVER\",\r\n      \"FILA_GERENCIAR\",\r\n    ],\r\n  },\r\n]\r\n\r\n// Função para criar um objeto com todas as permissões definidas como false\r\nconst criarPermissoesVazias = (): Record<string, boolean> => {\r\n  const todasPermissoes: Record<string, boolean> = {}\r\n  Object.values(permissoesPorCategoria).forEach((categoria) => {\r\n    categoria.forEach((perm) => {\r\n      todasPermissoes[perm.id] = false\r\n    })\r\n  })\r\n  return todasPermissoes\r\n}\r\n\r\n// Interface para o histórico de alterações\r\ninterface AlteracaoPermissao {\r\n  permissaoId: string\r\n  valorAnterior: boolean\r\n  valorNovo: boolean\r\n  timestamp: number\r\n}\r\n\r\nexport default function PermissoesUsuarioPage() {\r\n  const { id } = useParams()\r\n  const router = useRouter()\r\n  const { toast } = useToast()\r\n  const { user } = useAuth()\r\n\r\n  const [usuario, setUsuario] = useState<any>(null)\r\n  const [permissoesSelecionadas, setPermissoesSelecionadas] = useState<Record<string, boolean>>(criarPermissoesVazias())\r\n  const [permissoesOriginais, setPermissoesOriginais] = useState<Record<string, boolean>>(criarPermissoesVazias())\r\n  const [carregando, setCarregando] = useState(true)\r\n  const [salvando, setSalvando] = useState(false)\r\n  const [erro, setErro] = useState<string | null>(null)\r\n  const [tentativasCarregamento, setTentativasCarregamento] = useState(0)\r\n  const [mostrarErroCompleto, setMostrarErroCompleto] = useState(false)\r\n  const [erroDetalhado, setErroDetalhado] = useState<string | null>(null)\r\n  const [historicoAlteracoes, setHistoricoAlteracoes] = useState<AlteracaoPermissao[]>([])\r\n  const [mostrarHistorico, setMostrarHistorico] = useState(false)\r\n  const [sincronizando, setSincronizando] = useState(false)\r\n\r\n  // Verificar se o usuário tem permissão para gerenciar permissões\r\n  const canManagePermissions =\r\n    user?.permissoes?.includes(\"USUARIOS_PERMISSOES\") || user?.perfil === \"Administrador\" || user?.perfil === \"ADMIN\"\r\n\r\n  // Função para adicionar ao histórico de alterações\r\n  const adicionarAoHistorico = useCallback((permissaoId: string, valorAnterior: boolean, valorNovo: boolean) => {\r\n    setHistoricoAlteracoes((prev) => [\r\n      ...prev,\r\n      {\r\n        permissaoId,\r\n        valorAnterior,\r\n        valorNovo,\r\n        timestamp: Date.now(),\r\n      },\r\n    ])\r\n  }, [])\r\n\r\n  // Função para inicializar o estado das permissões\r\n  const inicializarPermissoes = useCallback(\r\n    (permissoesArray: string[]) => {\r\n      // Verificar primeiro se há permissões no localStorage\r\n      if (typeof window !== \"undefined\" && id) {\r\n        const storageKey = `permissoes_usuario_${id}`\r\n        const savedPermissoes = localStorage.getItem(storageKey)\r\n        if (savedPermissoes) {\r\n          try {\r\n            const parsedPermissoes = JSON.parse(savedPermissoes)\r\n            console.log(\"Usando permissões do localStorage em vez da API\")\r\n            return parsedPermissoes\r\n          } catch (e) {\r\n            console.error(\"Erro ao analisar permissões do localStorage:\", e)\r\n          }\r\n        }\r\n      }\r\n\r\n      // Se não houver permissões no localStorage, usar as da API\r\n      console.log(\"Usando permissões da API\")\r\n      const todasPermissoes = criarPermissoesVazias()\r\n\r\n      // Marcar as permissões que o usuário possui como true\r\n      if (Array.isArray(permissoesArray)) {\r\n        permissoesArray.forEach((perm) => {\r\n          if (perm in todasPermissoes) {\r\n            todasPermissoes[perm] = true\r\n          }\r\n        })\r\n      }\r\n\r\n      return todasPermissoes\r\n    },\r\n    [id],\r\n  )\r\n\r\n  // Verificar se uma permissão foi alterada\r\n  const permissaoAlterada = useCallback(\r\n    (permissaoId: string) => {\r\n      return permissoesSelecionadas[permissaoId] !== permissoesOriginais[permissaoId]\r\n    },\r\n    [permissoesSelecionadas, permissoesOriginais],\r\n  )\r\n\r\n  // Verificar se há alterações não salvas\r\n  const temAlteracoes = useCallback(() => {\r\n    return Object.keys(permissoesSelecionadas).some(\r\n      (permissaoId) => permissoesSelecionadas[permissaoId] !== permissoesOriginais[permissaoId],\r\n    )\r\n  }, [permissoesSelecionadas, permissoesOriginais])\r\n\r\n  // Carregar dados do usuário e permissões\r\n  useEffect(() => {\r\n    const carregarDados = async () => {\r\n      if (!id) return\r\n\r\n      // Verificar se o usuário tem permissão\r\n      if (!canManagePermissions) {\r\n        toast({\r\n          title: \"Acesso negado\",\r\n          description: \"Você não tem permissão para gerenciar permissões de usuários.\",\r\n          variant: \"destructive\",\r\n        })\r\n        return\r\n      }\r\n\r\n      setCarregando(true)\r\n      setErro(null)\r\n      setErroDetalhado(null)\r\n\r\n      try {\r\n        // Definir um timeout para evitar carregamento infinito\r\n        const timeoutId = setTimeout(() => {\r\n          setErro(\"Tempo limite excedido ao carregar permissões. Tente novamente.\")\r\n          setCarregando(false)\r\n        }, 15000) // 15 segundos de timeout\r\n\r\n        // Carregar dados do usuário\r\n        const dadosUsuario = await usuarioService.buscarUsuario(Number(id))\r\n\r\n        if (!dadosUsuario) {\r\n          clearTimeout(timeoutId)\r\n          setErro(\"Usuário não encontrado\")\r\n          setCarregando(false)\r\n          return\r\n        }\r\n\r\n        setUsuario(dadosUsuario)\r\n\r\n        // Verificar se o usuário tem permissões\r\n        let permissoesArray: string[] = []\r\n        if (dadosUsuario.permissoes && Array.isArray(dadosUsuario.permissoes)) {\r\n          permissoesArray = dadosUsuario.permissoes\r\n        } else {\r\n          // Tentar carregar permissões separadamente\r\n          try {\r\n            const permissoesUsuario = await usuarioService.obterPermissoes(Number(id))\r\n            permissoesArray = permissoesUsuario || []\r\n          } catch (permError: any) {\r\n            console.error(\"Erro ao carregar permissões separadamente:\", permError)\r\n            permissoesArray = []\r\n          }\r\n        }\r\n\r\n        // Inicializar permissões - esta função agora verifica o localStorage primeiro\r\n        const permissoes = inicializarPermissoes(permissoesArray)\r\n        setPermissoesSelecionadas(permissoes)\r\n\r\n        // Guardar estado original para comparação (sempre da API)\r\n        const permissoesOriginaisAPI = criarPermissoesVazias()\r\n        if (Array.isArray(permissoesArray)) {\r\n          permissoesArray.forEach((perm) => {\r\n            if (perm in permissoesOriginaisAPI) {\r\n              permissoesOriginaisAPI[perm] = true\r\n            }\r\n          })\r\n        }\r\n        setPermissoesOriginais(permissoesOriginaisAPI)\r\n\r\n        clearTimeout(timeoutId)\r\n        setCarregando(false)\r\n      } catch (error: any) {\r\n        console.error(\"Erro ao carregar dados:\", error)\r\n\r\n        // Capturar mensagem de erro detalhada\r\n        let mensagemErro = \"Erro ao carregar dados. Tente novamente.\"\r\n        let detalhesErro = \"\"\r\n\r\n        if (error.response) {\r\n          mensagemErro = `Erro ${error.response.status}: ${error.response.statusText}`\r\n          detalhesErro = JSON.stringify(error.response.data || {}, null, 2)\r\n        } else if (error.message) {\r\n          mensagemErro = error.message\r\n          detalhesErro = error.stack || \"\"\r\n        }\r\n\r\n        setErro(mensagemErro)\r\n        setErroDetalhado(detalhesErro)\r\n        setCarregando(false)\r\n\r\n        // Incrementar tentativas e tentar novamente se necessário\r\n        const novasTentativas = tentativasCarregamento + 1\r\n        setTentativasCarregamento(novasTentativas)\r\n\r\n        if (novasTentativas < 3) {\r\n          // Tentar novamente após um intervalo\r\n          setTimeout(() => {\r\n            carregarDados()\r\n          }, 2000)\r\n        }\r\n      }\r\n    }\r\n\r\n    carregarDados()\r\n  }, [id, toast, tentativasCarregamento, canManagePermissions, inicializarPermissoes])\r\n\r\n  // Salvar permissões no localStorage para persistência entre recarregamentos\r\n  useEffect(() => {\r\n    if (typeof window !== \"undefined\" && id && Object.keys(permissoesSelecionadas).length > 0 && !carregando) {\r\n      const storageKey = `permissoes_usuario_${id}`\r\n      localStorage.setItem(storageKey, JSON.stringify(permissoesSelecionadas))\r\n    }\r\n  }, [permissoesSelecionadas, id, carregando])\r\n\r\n  // Nova função para alternar permissão usando o objeto de estado\r\n  const handleTogglePermissao = useCallback(\r\n    (permissaoId: string) => {\r\n      setPermissoesSelecionadas((prev) => {\r\n        const valorAnterior = prev[permissaoId]\r\n        const valorNovo = !valorAnterior\r\n\r\n        // Adicionar ao histórico\r\n        adicionarAoHistorico(permissaoId, valorAnterior, valorNovo)\r\n\r\n        return {\r\n          ...prev,\r\n          [permissaoId]: valorNovo,\r\n        }\r\n      })\r\n    },\r\n    [adicionarAoHistorico],\r\n  )\r\n\r\n  // Função para selecionar/desmarcar todas as permissões de uma categoria\r\n  const handleToggleCategoria = useCallback(\r\n    (categoria: string, selecionar: boolean) => {\r\n      setPermissoesSelecionadas((prev) => {\r\n        const novoEstado = { ...prev }\r\n        permissoesPorCategoria[categoria].forEach((perm) => {\r\n          // Adicionar ao histórico apenas se o valor for alterado\r\n          if (novoEstado[perm.id] !== selecionar) {\r\n            adicionarAoHistorico(perm.id, novoEstado[perm.id], selecionar)\r\n          }\r\n          novoEstado[perm.id] = selecionar\r\n        })\r\n        return novoEstado\r\n      })\r\n    },\r\n    [adicionarAoHistorico],\r\n  )\r\n\r\n  // Função para aplicar um perfil de permissão\r\n  const aplicarPerfil = useCallback(\r\n    (perfilId: string) => {\r\n      const perfil = perfisPermissao.find((p) => p.id === perfilId)\r\n      if (!perfil) return\r\n\r\n      setPermissoesSelecionadas((prev) => {\r\n        const novoEstado = { ...prev }\r\n\r\n        // Primeiro, definir todas as permissões como false\r\n        Object.keys(novoEstado).forEach((permId) => {\r\n          if (novoEstado[permId] !== false) {\r\n            adicionarAoHistorico(permId, novoEstado[permId], false)\r\n            novoEstado[permId] = false\r\n          }\r\n        })\r\n\r\n        // Depois, definir as permissões do perfil como true\r\n        perfil.permissoes.forEach((permId) => {\r\n          if (permId in novoEstado && novoEstado[permId] !== true) {\r\n            adicionarAoHistorico(permId, novoEstado[permId], true)\r\n            novoEstado[permId] = true\r\n          }\r\n        })\r\n\r\n        return novoEstado\r\n      })\r\n\r\n      toast({\r\n        title: \"Perfil aplicado\",\r\n        description: `O perfil ${perfil.nome} foi aplicado com sucesso.`,\r\n      })\r\n    },\r\n    [adicionarAoHistorico, toast],\r\n  )\r\n\r\n  // Função para sincronizar com o servidor\r\n  const sincronizarComServidor = async () => {\r\n    if (!id) return\r\n\r\n    setSincronizando(true)\r\n    try {\r\n      // Carregar permissões do servidor\r\n      const permissoesServidor = await usuarioService.obterPermissoes(Number(id))\r\n\r\n      // Inicializar permissões com os dados do servidor\r\n      const permissoes = criarPermissoesVazias()\r\n      if (Array.isArray(permissoesServidor)) {\r\n        permissoesServidor.forEach((perm) => {\r\n          if (perm in permissoes) {\r\n            permissoes[perm] = true\r\n          }\r\n        })\r\n      }\r\n\r\n      // Atualizar estados\r\n      setPermissoesSelecionadas(permissoes)\r\n      setPermissoesOriginais(permissoes)\r\n\r\n      // Limpar localStorage\r\n      if (typeof window !== \"undefined\") {\r\n        const storageKey = `permissoes_usuario_${id}`\r\n        localStorage.removeItem(storageKey)\r\n      }\r\n\r\n      toast({\r\n        title: \"Sincronização concluída\",\r\n        description: \"As permissões foram sincronizadas com o servidor.\",\r\n      })\r\n    } catch (error) {\r\n      console.error(\"Erro ao sincronizar com o servidor:\", error)\r\n      toast({\r\n        title: \"Erro de sincronização\",\r\n        description: \"Não foi possível sincronizar as permissões com o servidor.\",\r\n        variant: \"destructive\",\r\n      })\r\n    } finally {\r\n      setSincronizando(false)\r\n    }\r\n  }\r\n\r\n  const handleSalvar = async () => {\r\n    if (!id || !canManagePermissions) return\r\n\r\n    setSalvando(true)\r\n    setErro(null)\r\n    setErroDetalhado(null)\r\n\r\n    try {\r\n      // Converter o objeto de permissões para um array\r\n      const permissoesArray = Object.entries(permissoesSelecionadas)\r\n        .filter(([_, selecionada]) => selecionada)\r\n        .map(([permissao]) => permissao)\r\n\r\n      // Usar o método atualizado para salvar permissões\r\n      await usuarioService.atualizarPermissoes(Number(id), permissoesArray)\r\n\r\n      // Após salvar com sucesso, atualizar as permissões originais\r\n      setPermissoesOriginais({ ...permissoesSelecionadas })\r\n\r\n      toast({\r\n        title: \"Permissões atualizadas\",\r\n        description: \"As permissões do usuário foram atualizadas com sucesso.\",\r\n      })\r\n\r\n      router.push(\"/usuarios\")\r\n    } catch (error: any) {\r\n      console.error(\"Erro ao salvar permissões:\", error)\r\n\r\n      // Capturar mensagem de erro detalhada\r\n      let mensagemErro = \"Erro ao salvar permissões. Tente novamente.\"\r\n      let detalhesErro = \"\"\r\n\r\n      if (error.response) {\r\n        mensagemErro = `Erro ${error.response.status}: ${error.response.statusText}`\r\n        detalhesErro = JSON.stringify(error.response.data || {}, null, 2)\r\n      } else if (error.message) {\r\n        mensagemErro = error.message\r\n        detalhesErro = error.stack || \"\"\r\n      }\r\n\r\n      setErro(mensagemErro)\r\n      setErroDetalhado(detalhesErro)\r\n\r\n      toast({\r\n        title: \"Erro\",\r\n        description: \"Não foi possível atualizar as permissões do usuário.\",\r\n        variant: \"destructive\",\r\n      })\r\n    } finally {\r\n      setSalvando(false)\r\n    }\r\n  }\r\n\r\n  // Se o usuário não tem permissão para gerenciar permissões, mostrar mensagem\r\n  if (!canManagePermissions) {\r\n    return (\r\n      <div className=\"container mx-auto py-6\">\r\n        <div className=\"flex items-center gap-4 mb-6\">\r\n          <BackButton />\r\n          <h1 className=\"text-2xl font-bold\">Gerenciar Permissões</h1>\r\n        </div>\r\n\r\n        <Alert variant=\"destructive\" className=\"mb-4\">\r\n          <AlertCircle className=\"h-4 w-4\" />\r\n          <AlertDescription>Você não tem permissão para gerenciar permissões de usuários.</AlertDescription>\r\n        </Alert>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-6\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <BackButton />\r\n          <h1 className=\"text-2xl font-bold\">Gerenciar Permissões</h1>\r\n        </div>\r\n\r\n        <div className=\"flex gap-2\">\r\n          <Button variant=\"outline\" onClick={sincronizarComServidor} disabled={sincronizando}>\r\n            {sincronizando ? (\r\n              <>\r\n                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                Sincronizando...\r\n              </>\r\n            ) : (\r\n              \"Sincronizar com Servidor\"\r\n            )}\r\n          </Button>\r\n\r\n          <Button variant=\"outline\" onClick={() => setMostrarHistorico(!mostrarHistorico)}>\r\n            {mostrarHistorico ? \"Ocultar Histórico\" : \"Mostrar Histórico\"}\r\n          </Button>\r\n\r\n          {!carregando && !erro && (\r\n            <Button\r\n              onClick={handleSalvar}\r\n              disabled={salvando}\r\n              className={temAlteracoes() ? \"bg-yellow-600 hover:bg-yellow-700\" : \"\"}\r\n            >\r\n              {salvando ? (\r\n                <>\r\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                  Salvando...\r\n                </>\r\n              ) : temAlteracoes() ? (\r\n                \"Salvar Alterações\"\r\n              ) : (\r\n                \"Salvar Permissões\"\r\n              )}\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {erro && (\r\n        <Alert variant=\"destructive\" className=\"mb-4\">\r\n          <AlertCircle className=\"h-4 w-4\" />\r\n          <AlertDescription>\r\n            {erro}\r\n            {erroDetalhado && (\r\n              <div className=\"mt-2\">\r\n                <Button variant=\"outline\" size=\"sm\" onClick={() => setMostrarErroCompleto(!mostrarErroCompleto)}>\r\n                  {mostrarErroCompleto ? \"Ocultar detalhes\" : \"Mostrar detalhes\"}\r\n                </Button>\r\n                {mostrarErroCompleto && (\r\n                  <pre className=\"mt-2 p-2 bg-gray-100 rounded text-xs overflow-auto max-h-40\">{erroDetalhado}</pre>\r\n                )}\r\n              </div>\r\n            )}\r\n            <Button\r\n              variant=\"outline\"\r\n              className=\"mt-2\"\r\n              onClick={() => {\r\n                setErro(null)\r\n                setErroDetalhado(null)\r\n                setCarregando(true)\r\n                setTentativasCarregamento(0)\r\n              }}\r\n            >\r\n              Tentar novamente\r\n            </Button>\r\n          </AlertDescription>\r\n        </Alert>\r\n      )}\r\n\r\n      {carregando ? (\r\n        <Card>\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"flex flex-col items-center justify-center p-8\">\r\n              <Loader2 className=\"h-12 w-12 animate-spin mb-4\" />\r\n              <p className=\"text-lg\">Carregando permissões...</p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      ) : (\r\n        <>\r\n          {usuario && (\r\n            <Card className=\"mb-6\">\r\n              <CardHeader>\r\n                <CardTitle>Usuário: {usuario.nome}</CardTitle>\r\n                <CardDescription>Username: {usuario.username}</CardDescription>\r\n              </CardHeader>\r\n            </Card>\r\n          )}\r\n\r\n          {/* Perfis de permissão */}\r\n          <Card className=\"mb-6\">\r\n            <CardHeader>\r\n              <CardTitle>Perfis de Permissão</CardTitle>\r\n              <CardDescription>Selecione um perfil para aplicar um conjunto predefinido de permissões</CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {perfisPermissao.map((perfil) => (\r\n                  <TooltipProvider key={perfil.id}>\r\n                    <Tooltip>\r\n                      <TooltipTrigger asChild>\r\n                        <Button variant=\"outline\" size=\"sm\" onClick={() => aplicarPerfil(perfil.id)}>\r\n                          {perfil.nome}\r\n                        </Button>\r\n                      </TooltipTrigger>\r\n                      <TooltipContent>\r\n                        <p>{perfil.descricao}</p>\r\n                        <p className=\"text-xs mt-1\">({perfil.permissoes.length} permissões)</p>\r\n                      </TooltipContent>\r\n                    </Tooltip>\r\n                  </TooltipProvider>\r\n                ))}\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Histórico de alterações */}\r\n          {mostrarHistorico && historicoAlteracoes.length > 0 && (\r\n            <Card className=\"mb-6\">\r\n              <CardHeader>\r\n                <CardTitle>Histórico de Alterações</CardTitle>\r\n                <CardDescription>Alterações feitas nesta sessão</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"max-h-60 overflow-y-auto\">\r\n                  <table className=\"w-full text-sm\">\r\n                    <thead>\r\n                      <tr className=\"border-b\">\r\n                        <th className=\"text-left py-2\">Permissão</th>\r\n                        <th className=\"text-left py-2\">Alteração</th>\r\n                        <th className=\"text-left py-2\">Horário</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {[...historicoAlteracoes].reverse().map((alteracao, index) => {\r\n                        // Encontrar o nome da permissão\r\n                        let nomePermissao = alteracao.permissaoId\r\n                        for (const categoria in permissoesPorCategoria) {\r\n                          const perm = permissoesPorCategoria[categoria].find((p) => p.id === alteracao.permissaoId)\r\n                          if (perm) {\r\n                            nomePermissao = perm.label\r\n                            break\r\n                          }\r\n                        }\r\n\r\n                        return (\r\n                          <tr key={index} className={index % 2 === 0 ? \"bg-gray-50\" : \"\"}>\r\n                            <td className=\"py-2\">{nomePermissao}</td>\r\n                            <td className=\"py-2\">{alteracao.valorAnterior ? \"Desativada\" : \"Ativada\"}</td>\r\n                            <td className=\"py-2\">{new Date(alteracao.timestamp).toLocaleTimeString()}</td>\r\n                          </tr>\r\n                        )\r\n                      })}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n\r\n          {Object.entries(permissoesPorCategoria).map(([categoria, listaPermissoes]) => (\r\n            <Card key={categoria} className=\"mb-6\">\r\n              <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\r\n                <CardTitle>{categoria}</CardTitle>\r\n                <div className=\"flex gap-2\">\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={() => handleToggleCategoria(categoria, true)}\r\n                    className=\"text-xs h-8\"\r\n                  >\r\n                    Selecionar todos\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={() => handleToggleCategoria(categoria, false)}\r\n                    className=\"text-xs h-8\"\r\n                  >\r\n                    Desmarcar todos\r\n                  </Button>\r\n                </div>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  {listaPermissoes.map((permissao) => {\r\n                    // Verificar se a permissão está selecionada\r\n                    const isChecked = !!permissoesSelecionadas[permissao.id]\r\n                    const isChanged = permissaoAlterada(permissao.id)\r\n\r\n                    return (\r\n                      <div key={permissao.id} className=\"flex items-center space-x-2\">\r\n                        {/* Substituir checkbox por botão estilizado como checkbox */}\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => handleTogglePermissao(permissao.id)}\r\n                          className={`flex items-center justify-center w-5 h-5 rounded border ${\r\n                            isChecked\r\n                              ? isChanged\r\n                                ? \"bg-yellow-600 border-yellow-600\"\r\n                                : \"bg-blue-600 border-blue-600\"\r\n                              : isChanged\r\n                                ? \"bg-white border-yellow-600\"\r\n                                : \"bg-white border-gray-300\"\r\n                          }`}\r\n                          aria-checked={isChecked}\r\n                          role=\"checkbox\"\r\n                        >\r\n                          {isChecked && <Check className=\"h-3 w-3 text-white\" />}\r\n                        </button>\r\n                        <div className=\"flex items-center\">\r\n                          <label\r\n                            onClick={() => handleTogglePermissao(permissao.id)}\r\n                            className={`text-sm font-medium cursor-pointer ${\r\n                              isChanged ? \"text-yellow-600 font-bold\" : \"\"\r\n                            }`}\r\n                          >\r\n                            {permissao.label}\r\n                          </label>\r\n\r\n                          {permissao.descricao && (\r\n                            <TooltipProvider>\r\n                              <Tooltip>\r\n                                <TooltipTrigger asChild>\r\n                                  <Info className=\"h-4 w-4 ml-1 text-gray-400 cursor-help\" />\r\n                                </TooltipTrigger>\r\n                                <TooltipContent>\r\n                                  <p>{permissao.descricao}</p>\r\n                                </TooltipContent>\r\n                              </Tooltip>\r\n                            </TooltipProvider>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n\r\n          {!carregando && !erro && (\r\n            <div className=\"flex justify-end mt-6 space-x-4\">\r\n              <Button variant=\"outline\" onClick={() => router.push(\"/usuarios\")}>\r\n                Cancelar\r\n              </Button>\r\n              <Button\r\n                onClick={handleSalvar}\r\n                disabled={salvando}\r\n                className={temAlteracoes() ? \"bg-yellow-600 hover:bg-yellow-700\" : \"\"}\r\n              >\r\n                {salvando ? (\r\n                  <>\r\n                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                    Salvando...\r\n                  </>\r\n                ) : temAlteracoes() ? (\r\n                  \"Salvar Alterações\"\r\n                ) : (\r\n                  \"Salvar Permissões\"\r\n                )}\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}